"use strict";var $Router={},errorURLTriedAndFailed=!1,hitCounter=0,getType=function(e){return Object.prototype.toString.call(e).replace(/[\[\]]/g,"").split(" ")[1]},validatePathToMap=function(e){if(!e.path&&!e.otherwise)throw new Error("Please Provide a Path");if(!e.templateUrl&&!e.otherwise)throw new Error("Please Provide a valid Template Url for '"+e.path+"' Path")},configurePathMap=function(e){$Router.pathMap||($Router.pathMap={}),validatePathToMap(e),!e.otherwise&&($Router.pathMap[e.path]=e.templateUrl),e.otherwise&&($Router.otherwiseURL="#"+e.otherwise)},hasRoutingChanged=function(){for(var e=document.querySelectorAll("a."+$Router.options.activateLinkClass),t=0;t<e.length;t++)e[t].setAttribute("class",$Router.options.defaultLinkClass);location.hash&&$Router.pathMap[location.hash.split("#")[1]]?$Router.go(location.hash):$Router.otherwiseURL&&(location.hash=$Router.otherwiseURL)},congigureRouter=function(e){$Router.options=Object.assign({},$Router.options,e)},routeErrorPage=function(){$Router.options.customErrorPageUrl&&!errorURLTriedAndFailed?$Router.route($Router.options.customErrorPageUrl,!0):$Router.options.customErrorPageTemplate?document.querySelector("["+$Router.options.routerOutletSelector+"]").innerHTML=$Router.options.customErrorPageTemplate:document.querySelector("["+$Router.options.routerOutletSelector+"]").innerHTML=$Router.noRouteDefinedTemplate};$Router.options={customErrorPageUrl:void 0,customErrorPageTemplate:void 0,showErrorPage:!0,activateLinks:!0,activateLinkClass:"active",defaultLinkClass:"",beforeRouteChange:void 0,afterRouteChange:void 0,onRouteChangeError:void 0,routerOutletSelector:"router-outlet",maxReRoute:20},$Router.go=function(e){$Router.options.activateLinks&&document.querySelector("a[href='"+e+"']").setAttribute("class",$Router.options.defaultLinkClass+" "+$Router.options.activateLinkClass),$Router.options.beforeRouteChange&&$Router.options.beforeRouteChange(e.replace(/#/g,"")),$Router.route(e.replace(/#/g,""))},$Router.hash=(e=>{if(!e)throw new Error("Please provide a valid hash route");location.hash=e}),$Router.config=function(e,t){var o=getType(e);switch(o){case"Array":for(var r=0;r<e.length;r++)configurePathMap(e[r]);break;case"Object":configurePathMap(e);break;default:throw new Error("Please provide a valid option for configuring the routes")}congigureRouter(t),hasRoutingChanged()},$Router.noRouteDefinedTemplate="<style>.errorStatement_routeNow{color:#ff8787;text-align:center;margin-top:100px;}</style><div class='errorStatement_routeNow'>Sorry this route is not available</div>",$Router.route=function(e,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState)switch(this.status){case 200:document.querySelector("["+$Router.options.routerOutletSelector+"]").innerHTML=this.responseText,$Router.options.afterRouteChange&&$Router.options.afterRouteChange(e);break;case 404:t?errorURLTriedAndFailed=!0:$Router.options.onRouteChangeError&&$Router.options.onRouteChangeError(e),$Router.options.showErrorPage&&routeErrorPage()}},t?o.open("GET",e,!0):o.open("GET",$Router.pathMap[e],!0),o.send()},window.onhashchange=hasRoutingChanged,window.$Router=$Router,"object"==typeof exports&&(module.exports={$Router:$Router});